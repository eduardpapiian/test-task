(function(e){function t(t){for(var o,a,c=t[0],r=t[1],s=t[2],u=0,f=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&f.push(n[a][0]),n[a]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);i&&i(t);while(f.length)f.shift()();return d.push.apply(d,s||[]),l()}function l(){for(var e,t=0;t<d.length;t++){for(var l=d[t],o=!0,c=1;c<l.length;c++){var r=l[c];0!==n[r]&&(o=!1)}o&&(d.splice(t--,1),e=a(a.s=l[0]))}return e}var o={},n={app:0},d=[];function a(t){if(o[t])return o[t].exports;var l=o[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,a),l.l=!0,l.exports}a.m=e,a.c=o,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(l,o,function(t){return e[t]}.bind(null,o));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/test-task/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var i=r;d.push([0,"chunk-vendors"]),l()})({0:function(e,t,l){e.exports=l("56d7")},"0056":function(e,t,l){},"034f":function(e,t,l){"use strict";l("45a9")},1:function(e,t){},2:function(e,t){},"24c3":function(e,t,l){"use strict";l("8007")},"2f23":function(e,t,l){"use strict";l("69ed")},3:function(e,t){},"33cc":function(e,t,l){"use strict";l("704e")},4:function(e,t){},"45a9":function(e,t,l){},4632:function(e,t,l){"use strict";l("4cd6")},"4cd6":function(e,t,l){},5:function(e,t){},"56d7":function(e,t,l){"use strict";l.r(t);l("32bb"),l("f0f8"),l("f493"),l("245e");var o=l("2b0e"),n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"app"}},[l("MainComponent")],1)},d=[],a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"wrapper"},[l("div",{staticClass:"wrapper__left-side"},[e.getParentModal.open?l("ParentModal",{attrs:{data:e.getParentModal}}):e._e()],1),l("div",{staticClass:"wrapper__right-side"},[l("draggable",{staticClass:"wrapper__right-side_default-folder-container",attrs:{list:e.getDefaultFolders,group:"folders",sort:!1,handle:".draggable",move:e.checkMove}},e._l(e.getDefaultFolders,(function(e){return l("Folder",{key:e.id,class:[{draggable:!e.selected},"folder-block-"+e.id],attrs:{folder:e}})})),1)],1),l("div",{staticClass:"wrapper__document-modal"},[e.getDocumentModal.open?l("document-modal"):e._e()],1),e.getFullScreenModal.open?l("full-screen-modal"):e._e()],1)},c=[],r=l("5530"),s=l("b76a"),i=l.n(s),u=l("2f62"),f=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"folder-block"},[l("div",{class:{selected:e.folder.selected,"folder-block__icon":!0},on:{click:function(t){return e.clickOnFolder(e.folder)}}},[l("img",{attrs:{src:e.folderIcon,alt:"folder"}})]),l("div",{staticClass:"folder-block__text"},[e._v(" "+e._s(e.folder.name)+" ")])])},p=[],m=l("abfe"),M={name:"Folder",props:{folder:{type:Object,required:!0,default:function(){}},folderType:{type:String,required:!1,default:"default"}},computed:Object(r["a"])({},Object(u["b"])(["getParentModal","getNestedModal"])),data:function(){return{folderIcon:m}},methods:{clickOnFolder:function(e){switch(this.folderType){case"default":if(this.getParentModal.open&&this.getParentModal.selectedFolder.id===e.id)return;this.$store.dispatch("openFolder",e);break;case"childFolder":case"childNestedFolder":this.$store.dispatch("openNestedModal",e);break;case"fullScreenModalFolder":this.$store.dispatch("openFullScreenModal",e);break}}}},b=M,h=(l("e883"),l("0c7c")),F=Object(h["a"])(b,f,p,!1,null,"23321b0c",null),g=F.exports,v=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("transition",{attrs:{name:"block"}},[l("div",{staticClass:"modal-mask"},[l("div",{staticClass:"modal-wrapper"},[l("div",{staticClass:"modal-container"},[l("modal-header",{attrs:{data:e.data.selectedFolder,modalType:"parentModal"}}),l("div",{staticClass:"modal-body"},[l("draggable",{staticClass:"modal-body__container",attrs:{list:e.data.selectedFolder.children,group:"folders",sort:!1}},e._l(e.data.selectedFolder.children,(function(t){return l("div",{key:t.id},["file"===t.type?l("file",{attrs:{file:t}}):e._e(),"folder"===t.type?l("folder",{attrs:{folder:t,folderType:"childFolder"}}):e._e()],1)})),0)],1)],1)]),e.getNestedModal.open?l("nested-modal"):e._e()],1)])},_=[],y=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"file-block"},[l("div",{class:{selected:e.file.selected,"file-block__icon":!0},on:{click:function(t){return e.clickOnFile(e.file)}}},[l("img",{attrs:{src:e.fileIcon,alt:"file"}})]),l("div",{staticClass:"file-block__text"},[e._v(" "+e._s(e.file.name)+" ")])])},S=[],k=l("c566"),C={name:"File",props:{file:{type:Object,required:!0,default:function(){}},fileType:{type:String,required:!1,default:"default"}},data:function(){return{fileIcon:k}},methods:{clickOnFile:function(e){if("fullScreenModalFile"===this.fileType)return this.$store.dispatch("openFullScreenModal",e);e.selected?(e.selected=!e.selected,this.$store.dispatch("closeDocumentModal")):(e.selected=!e.selected,this.$store.dispatch("openDocumentModal",e))}}},D=C,O=(l("33cc"),Object(h["a"])(D,y,S,!1,null,"b1422c4a",null)),w=O.exports,j=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("transition",{attrs:{name:"block"}},[l("div",{staticClass:"nested-modal-mask"},[l("div",{staticClass:"modal-wrapper"},[l("div",{staticClass:"modal-container"},[l("modal-header",{attrs:{data:e.getNestedModal.selectedFolder,modalType:"nestedModal"}}),l("div",{staticClass:"modal-body"},[l("div",{staticClass:"modal-body__container"},[e._l(e.getNestedModal.selectedFolder.children.filter((function(e){return"file"===e.type})),(function(e){return l("file",{key:e.id,attrs:{file:e}})})),e._l(e.getNestedModal.selectedFolder.children.filter((function(e){return"folder"===e.type})),(function(e){return l("folder",{key:e.id,attrs:{folder:e,folderType:"childNestedFolder"}})}))],2)])],1)])])])},P=[],x=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"modal-header"},[l("div",{staticClass:"modal-header__close-icon-block",on:{click:e.closeModal}},[l("img",{attrs:{src:e.closeIcon,alt:"close-icon"}})]),l("div",{staticClass:"modal-header__text-block"},[e._v(" "+e._s(e.data.name)+" ")]),l("div",{staticClass:"modal-header__fullscreen-icon-block",on:{click:function(t){return e.openFullScreenModal(e.data)}}},[l("img",{attrs:{src:e.fullScreenIcon,alt:"fullscreen-icon"}})])])},N=[],$=l("7ddb"),E=l("9e9c"),I={name:"ModalHeader",props:["modalType","data"],data:function(){return{closeIcon:$,fullScreenIcon:E}},methods:{closeModal:function(){switch(this.modalType){case"parentModal":this.$store.dispatch("closeParentModal");break;case"nestedModal":this.$store.dispatch("closeNestedModal");break;case"documentModal":this.$store.dispatch("closeDocumentModal");break}},openFullScreenModal:function(e){this.$store.dispatch("openFullScreenModal",e)}}},T=I,q=(l("2f23"),Object(h["a"])(T,x,N,!1,null,"884b2310",null)),A=q.exports,B=l("7ddb"),H=l("9e9c"),J={name:"NestedModal",components:{ModalHeader:A,Folder:g,File:w},computed:Object(r["a"])({},Object(u["b"])(["getNestedModal"])),data:function(){return{closeIcon:B,fullScreenIcon:H}}},W=J,z=(l("8d5e"),Object(h["a"])(W,j,P,!1,null,"f2cbaf40",null)),G=z.exports,K=l("7ddb"),L=l("9e9c"),Q={name:"ParentModal",components:{ModalHeader:A,NestedModal:G,Folder:g,File:w,draggable:i.a},props:{data:{type:Object,required:!0,default:function(){}}},computed:Object(r["a"])({},Object(u["b"])(["getNestedModal"])),data:function(){return{closeIcon:K,fullScreenIcon:L}}},R=Q,U=(l("24c3"),Object(h["a"])(R,v,_,!1,null,"1a791bff",null)),V=U.exports,X=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("transition",{attrs:{name:"block"}},[l("div",{staticClass:"modal-mask"},[l("div",{staticClass:"modal-wrapper"},[l("div",{staticClass:"modal-container"},[l("modal-header",{attrs:{data:e.getDocumentModal.selectedFile,modalType:"documentModal"}}),l("div",{staticClass:"modal-body"},[e._t("body",[l("pdf",{attrs:{src:e.getDocumentModal.selectedFile.src}})])],2)],1)])])])},Y=[],Z=l("858e"),ee=l("7ddb"),te=l("9e9c"),le={name:"DocumentModal",computed:Object(r["a"])({},Object(u["b"])(["getDocumentModal"])),components:{ModalHeader:A,pdf:Z["a"]},data:function(){return{closeIcon:ee,fullScreenIcon:te}}},oe=le,ne=(l("ebb0"),Object(h["a"])(oe,X,Y,!1,null,"5c26c316",null)),de=ne.exports,ae=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("transition",{attrs:{name:"modal"}},[l("div",{staticClass:"modal-mask"},[l("div",{staticClass:"modal-wrapper"},[l("div",{staticClass:"close-button",on:{click:e.closeFullScreenWrapper}},[l("img",{attrs:{src:e.closeIconCircle,alt:"close-icon"}})]),l("div",{staticClass:"modal-container"},["folder"===e.getFullScreenModal.data.type?l("div",{staticClass:"modal-container__folders"},[e._l(e.getFullScreenModal.data.children.filter((function(e){return"file"===e.type})),(function(e){return l("file",{key:e.id,attrs:{file:e,fileType:"fullScreenModalFile"}})})),e._l(e.getFullScreenModal.data.children.filter((function(e){return"folder"===e.type})),(function(e){return l("folder",{key:e.id,attrs:{folder:e,folderType:"fullScreenModalFolder"}})}))],2):l("div",{staticClass:"modal-container__file"},[l("pdf",{attrs:{src:e.getFullScreenModal.data.src}})],1)])])])])},ce=[],re=l("eb00"),se={name:"FullScreenModal",components:{Folder:g,File:w,pdf:Z["a"]},computed:Object(r["a"])({},Object(u["b"])(["getFullScreenModal"])),data:function(){return{closeIconCircle:re}},methods:{closeFullScreenWrapper:function(){this.$store.dispatch("closeFullScreenModal")}}},ie=se,ue=(l("e98d"),Object(h["a"])(ie,ae,ce,!1,null,"76427b20",null)),fe=ue.exports,pe={name:"MainComponent",components:{FullScreenModal:fe,DocumentModal:de,ParentModal:V,Folder:g,draggable:i.a},computed:Object(r["a"])({},Object(u["b"])(["getDefaultFolders","getParentModal","getDocumentModal","getFullScreenModal"])),data:function(){return{}},methods:{checkMove:function(e){return this.isDraggable(e.draggedContext)},isDraggable:function(e){var t=e.index;return!this.getDefaultFolders[t].selected}}},me=pe,Me=(l("4632"),Object(h["a"])(me,a,c,!1,null,"6835717e",null)),be=Me.exports,he={name:"App",components:{MainComponent:be},created:function(){this.$store.dispatch("setDefaultFolders")}},Fe=he,ge=(l("034f"),Object(h["a"])(Fe,n,d,!1,null,null,null)),ve=ge.exports,_e=(l("4de4"),l("4160"),l("d3b7"),l("159b"),l("ba10"));o["a"].use(u["a"]);var ye=new u["a"].Store({state:{folders:[],parentModal:{open:!1,selectedFolder:null},nestedModal:{open:!1,selectedFolder:null},documentModal:{open:!1,selectedFile:null},fullScreenModal:{open:!1,data:null}},mutations:{setDefaultFolders:function(e,t){e.folders=t},openParentModal:function(e,t){e.parentModal.selectedFolder=t,e.parentModal.selectedFolder.children.filter((function(e){return e.selected=!1})),e.parentModal.open=!0,e.folders.forEach((function(e){e.selected=e.id===t.id}))},closeParentModal:function(e){e.parentModal.selectedFolder=null,e.parentModal.open=!1,e.folders.filter((function(e){return e.selected=!1}))},openNestedModal:function(e,t){e.nestedModal.open=!0,e.nestedModal.selectedFolder=t,e.parentModal.selectedFolder.children.forEach((function(e){e.selected=e.id===t.id}))},uncheckParentFolder:function(e){e.parentModal.selectedFolder.children.filter((function(e){return e.selected=!1}))},openDocumentModal:function(e,t){e.documentModal.open=!0,e.documentModal.selectedFile=t},closeDocumentModal:function(e){e.documentModal.open=!1,e.documentModal.selectedFile=null},uncheckSelectedFile:function(e){e.parentModal.selectedFolder&&e.parentModal.selectedFolder.children.forEach((function(e){"file"===e.type&&(e.selected=!1)})),e.nestedModal.selectedFolder&&e.nestedModal.selectedFolder.children.forEach((function(e){"file"===e.type&&(e.selected=!1)}))},resetNestedModal:function(e){e.nestedModal.open=!1,e.nestedModal.selectedFolder.children.filter((function(e){return e.selected=!1})),e.nestedModal.selectedFolder=null},openFullScreenModal:function(e,t){e.fullScreenModal.open=!0,e.fullScreenModal.data=t},closeFullScreenModal:function(e){e.fullScreenModal.open=!1,e.fullScreenModal.data=null}},getters:{getDefaultFolders:function(e){return e.folders},getParentModal:function(e){return e.parentModal},getNestedModal:function(e){return e.nestedModal},getDocumentModal:function(e){return e.documentModal},getFullScreenModal:function(e){return e.fullScreenModal}},actions:{setDefaultFolders:function(e){return new Promise((function(t){e.commit("setDefaultFolders",_e.folders),t(_e.folders)}))},openFolder:function(e,t){var l=e.commit,o=e.state;l("openParentModal",t),o.documentModal.open&&l("closeDocumentModal"),o.nestedModal.open&&l("resetNestedModal")},closeParentModal:function(e){var t=e.state,l=e.commit;l("closeParentModal"),t.documentModal.open&&l("closeDocumentModal")},openNestedModal:function(e,t){var l=e.state,o=e.commit;o("openNestedModal",t),l.documentModal.open&&o("closeDocumentModal")},closeNestedModal:function(e){e.commit("resetNestedModal"),e.commit("uncheckParentFolder"),e.commit("closeDocumentModal")},openDocumentModal:function(e,t){e.commit("openDocumentModal",t)},closeDocumentModal:function(e){e.commit("closeDocumentModal"),e.commit("uncheckSelectedFile")},openFullScreenModal:function(e,t){e.commit("openFullScreenModal",t)},closeFullScreenModal:function(e){e.commit("closeFullScreenModal")}}});o["a"].config.productionTip=!1,new o["a"]({store:ye,render:function(e){return e(ve)}}).$mount("#app")},"61b1":function(e,t,l){},"69ed":function(e,t,l){},"704e":function(e,t,l){},"7ddb":function(e,t,l){e.exports=l.p+"img/close-icon.87054a31.svg"},8007:function(e,t,l){},"8d5e":function(e,t,l){"use strict";l("e17b")},"9e9c":function(e,t,l){e.exports=l.p+"img/full-screen-icon.f150edbd.svg"},abfe:function(e,t,l){e.exports=l.p+"img/folder.86ea72b0.svg"},ba10:function(e){e.exports=JSON.parse('{"folders":[{"id":1,"name":"AAA","type":"folder","selected":false,"children":[{"id":10,"name":"PDF A","selected":false,"type":"file","src":"https://dev.totalflow.io/downloads/2020/12/18/4fe5d20a33868c826e8886119828d69a.pdf"}]},{"id":2,"name":"BBB","type":"folder","selected":false,"children":[{"id":12,"name":"PDF B","selected":false,"type":"file","src":"https://dev.totalflow.io/downloads/2020/12/18/4fe5d20a33868c826e8886119828d69a.pdf"}]},{"id":3,"name":"CCC","type":"folder","selected":false,"children":[{"id":13,"name":"PDF C","selected":false,"type":"file","src":"https://dev.totalflow.io/downloads/2020/12/18/4fe5d20a33868c826e8886119828d69a.pdf"}]},{"id":4,"name":"DDD","type":"folder","selected":false,"children":[{"id":14,"name":"PDF D","selected":false,"type":"file","src":"https://dev.totalflow.io/downloads/2020/12/18/4fe5d20a33868c826e8886119828d69a.pdf"}]},{"id":5,"name":"EEE","type":"folder","selected":false,"children":[{"id":15,"name":"PDF E","selected":false,"type":"file","src":"https://dev.totalflow.io/downloads/2020/12/18/4fe5d20a33868c826e8886119828d69a.pdf"}]},{"id":6,"name":"FFF","type":"folder","selected":false,"children":[{"id":16,"name":"PDF F","selected":false,"type":"file","src":"https://dev.totalflow.io/downloads/2020/12/18/4fe5d20a33868c826e8886119828d69a.pdf"}]}]}')},c566:function(e,t,l){e.exports=l.p+"img/file-icon.66e94828.svg"},e021:function(e,t,l){},e17b:function(e,t,l){},e883:function(e,t,l){"use strict";l("0056")},e98d:function(e,t,l){"use strict";l("e021")},eb00:function(e,t,l){e.exports=l.p+"img/close-icon-circle.c73ab81c.svg"},ebb0:function(e,t,l){"use strict";l("61b1")}});
//# sourceMappingURL=app.b0beedb2.js.map